#!/bin/bash -l

#SBATCH -N 60
#SBATCH -C haswell
#SBATCH -q regular
#SBATCH -J recon
#SBATCH --mail-user=jiook.cha@nyspi.columbia.edu
#SBATCH --mail-type=ALL
#SBATCH -t 10:00:00
#SBATCH -L cscratch1
#DW jobdw capacity=60GB access_mode=striped type=scratch pool=sm_pool

#OpenMP settings:
export OMP_NUM_THREADS=64
export OMP_PLACES=threads
export OMP_PROC_BIND=spread

echo start............................................
echo "working directory is $DW_JOB_STRIPED"

srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPPGVEPWW > ./job/log.recon.sub-NDARINVPPGVEPWW 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPPN58EEF > ./job/log.recon.sub-NDARINVPPN58EEF 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPPTGWLKJ > ./job/log.recon.sub-NDARINVPPTGWLKJ 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPPY8DZG0 > ./job/log.recon.sub-NDARINVPPY8DZG0 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPPYH7MGJ > ./job/log.recon.sub-NDARINVPPYH7MGJ 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPRX26ZJ6 > ./job/log.recon.sub-NDARINVPRX26ZJ6 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPRZDG64U > ./job/log.recon.sub-NDARINVPRZDG64U 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPT3ZPKCT > ./job/log.recon.sub-NDARINVPT3ZPKCT 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPT7J8GAY > ./job/log.recon.sub-NDARINVPT7J8GAY 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPTK9T3R5 > ./job/log.recon.sub-NDARINVPTK9T3R5 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPTKFKAVR > ./job/log.recon.sub-NDARINVPTKFKAVR 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPTM61L43 > ./job/log.recon.sub-NDARINVPTM61L43 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPTV6A941 > ./job/log.recon.sub-NDARINVPTV6A941 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPUHZMWL7 > ./job/log.recon.sub-NDARINVPUHZMWL7 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPUTKYX3K > ./job/log.recon.sub-NDARINVPUTKYX3K 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPUVCADU0 > ./job/log.recon.sub-NDARINVPUVCADU0 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPUXXH60T > ./job/log.recon.sub-NDARINVPUXXH60T 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPUYA9796 > ./job/log.recon.sub-NDARINVPUYA9796 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPUZVE4U5 > ./job/log.recon.sub-NDARINVPUZVE4U5 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPV2C6C1M > ./job/log.recon.sub-NDARINVPV2C6C1M 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPV7ZR44N > ./job/log.recon.sub-NDARINVPV7ZR44N 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPV9AKNCF > ./job/log.recon.sub-NDARINVPV9AKNCF 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPVMY2MPT > ./job/log.recon.sub-NDARINVPVMY2MPT 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPVV52NXT > ./job/log.recon.sub-NDARINVPVV52NXT 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPW35MYY5 > ./job/log.recon.sub-NDARINVPW35MYY5 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPW5RU88H > ./job/log.recon.sub-NDARINVPW5RU88H 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPWCF8X4C > ./job/log.recon.sub-NDARINVPWCF8X4C 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPWDTCU07 > ./job/log.recon.sub-NDARINVPWDTCU07 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPWL6YB2C > ./job/log.recon.sub-NDARINVPWL6YB2C 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPWY97N4C > ./job/log.recon.sub-NDARINVPWY97N4C 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPX2DGJHP > ./job/log.recon.sub-NDARINVPX2DGJHP 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPX4NDUNA > ./job/log.recon.sub-NDARINVPX4NDUNA 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPX8C7W65 > ./job/log.recon.sub-NDARINVPX8C7W65 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPXA96T93 > ./job/log.recon.sub-NDARINVPXA96T93 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPXF7PDPX > ./job/log.recon.sub-NDARINVPXF7PDPX 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPY65JUM8 > ./job/log.recon.sub-NDARINVPY65JUM8 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPZ879XG6 > ./job/log.recon.sub-NDARINVPZ879XG6 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPZDDVLGW > ./job/log.recon.sub-NDARINVPZDDVLGW 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPZE8ABE3 > ./job/log.recon.sub-NDARINVPZE8ABE3 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPZHLGHDN > ./job/log.recon.sub-NDARINVPZHLGHDN 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVPZJ5VXTX > ./job/log.recon.sub-NDARINVPZJ5VXTX 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR09UG23J > ./job/log.recon.sub-NDARINVR09UG23J 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR0AR52BF > ./job/log.recon.sub-NDARINVR0AR52BF 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR0TYK5V9 > ./job/log.recon.sub-NDARINVR0TYK5V9 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR12GH8DH > ./job/log.recon.sub-NDARINVR12GH8DH 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR17JHZRJ > ./job/log.recon.sub-NDARINVR17JHZRJ 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR1JFZ70M > ./job/log.recon.sub-NDARINVR1JFZ70M 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR1KAV63D > ./job/log.recon.sub-NDARINVR1KAV63D 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR1KT1MAU > ./job/log.recon.sub-NDARINVR1KT1MAU 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR2EMBDV7 > ./job/log.recon.sub-NDARINVR2EMBDV7 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR2HJCC0M > ./job/log.recon.sub-NDARINVR2HJCC0M 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR2R52JP7 > ./job/log.recon.sub-NDARINVR2R52JP7 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR2T9NUK9 > ./job/log.recon.sub-NDARINVR2T9NUK9 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR3ABLBEY > ./job/log.recon.sub-NDARINVR3ABLBEY 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR3CBHF7B > ./job/log.recon.sub-NDARINVR3CBHF7B 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR3GH8J7X > ./job/log.recon.sub-NDARINVR3GH8J7X 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR3ZE9RGY > ./job/log.recon.sub-NDARINVR3ZE9RGY 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR40EH36N > ./job/log.recon.sub-NDARINVR40EH36N 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR4PV7WZ3 > ./job/log.recon.sub-NDARINVR4PV7WZ3 2>&1 &
sleep 0.1
srun -N 1 -n 1 -c 64 --cpu_bind=cores /global/cscratch1/sd/jcha9928/anal/ABCD/abcd_nersc_code/job/cmd.recon.sub-NDARINVR4Z2P93R > ./job/log.recon.sub-NDARINVR4Z2P93R 2>&1 &
sleep 0.1
wait
